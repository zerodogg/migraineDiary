/*!! jQsimple-class - Copyright Eskild Hustvedt 2010
 * License: GNU LGPLv3 */
(function(h){var o=0,e=h.extend,l=h.merge,m=h.isArray,i=h.each,j=function(a){m(a)||(a=[n(e({},a))]);var b=function(){var c=this,f={O:c,_d:[]},g=l([],j.modifiers),d=0;if(!(c instanceof b))throw"Class must be instantiated";for(i(a,function(w,t){e(true,c,t);var p=c._constructor,q=c._destructor;p&&g.push(p);q&&f._d.push(q)});d<g.length;d++)g[d].apply(c,arguments);c.jClass=e({_m:f},k);c.destroy=u};e(b,{o:a,jClass:e({_m:{O:b}},j.constMethods,k)});return b},n=function(a){if(!a.jClass)a.jClass={};if(!a.jClass.i){o++;a.jClass.i=o}return a},v=function(a){var b=[],c=[];i((m(a)?a:[a]).reverse(),function(f,g){var d=g.jClass.i;if(h.inArray(d,c)===-1){b.push(g);c.push(d)}});return b},r=function(a,b,c){var f=[];i(m(a)?a:[a],function(g,d){l(f,l([],d.o).reverse())});i(f,function(g,d){f[g]=d=e({},d);c&&c.call(null,d)});b=n(e({},b));f.unshift(b);f=v(f);return j(f)},k={version:"0.2"},u=function(){var a=this;i(a.jClass._m._d,function(b,c){c.apply(a)});i(a,function(b){delete a[b]})},s=function(a){a._destructor=a._constructor=null};e(j,{extend:r,extendS:function(a,b){return r(a,b,s)},virtual:function(a){var b=function(){throw"Attempted to instantiate virtual class";};a=e({},a);s(a);n(a);e(b,{o:[a],jClass:e({_m:{v:true}},j.constMethods,k)});return b},constMethods:{},_$:h,modifiers:[]},k);window.jClass=j})(jQuery);